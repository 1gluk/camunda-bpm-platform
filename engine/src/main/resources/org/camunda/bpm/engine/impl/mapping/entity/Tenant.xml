<?xml version="1.0" encoding="UTF-8" ?> 

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
  
<mapper namespace="org.camunda.bpm.engine.impl.persistence.entity.TenantEntity">

  <sql id="queryTenantCheck">
    <if test="tenantCheck.isTenantCheckEnabled">
    
      and (TENANT_ID_ is null
      <if test="tenantCheck.authTenantIds != null &amp;&amp; !tenantCheck.authTenantIds.isEmpty">
          or TENANT_ID_ in 
          <foreach item="tenantId" index="index" collection="tenantCheck.authTenantIds"
                   open="(" separator="," close=")">
            #{tenantId}
          </foreach>
      </if>
      )
    </if>
  </sql>
  
</mapper>
